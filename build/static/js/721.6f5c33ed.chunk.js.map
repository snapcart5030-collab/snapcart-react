{"version":3,"file":"static/js/721.6f5c33ed.chunk.js","mappings":"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","sources":["components/ButtonPage.jsx","components/Products_Shimmer.jsx","components/CategoryProductPage.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useCart } from \"./CartProvider\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\nimport {\r\n  Cart_Url,\r\n  AddToCart_Url,\r\n  RemoveFromCart_Url,\r\n} from \"./Api_URL_Page\";\r\nimport \"./ButtonPage.css\";\r\n\r\nexport default function ButtonPage({ productId, user, productName }) {\r\n  const [added, setAdded] = useState(false);\r\n  const [count, setCount] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [anim, setAnim] = useState(\"\");\r\n  const { cartItems, fetchCart } = useCart();\r\n\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Toast ID for single toast\r\n  const toastId = \"cart-toast\";\r\n\r\n  // Reset animation after fade-out\r\n  useEffect(() => {\r\n    if (anim === \"fade-out\") {\r\n      const timer = setTimeout(() => setAnim(\"\"), 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [anim]);\r\n\r\n  // Fetch initial cart quantity\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get(Cart_Url(), {\r\n          headers: { Authorization: `Bearer ${user.token}` },\r\n        });\r\n        const item = data.items.find((i) => i.productId === productId);\r\n        setAdded(!!item);\r\n        setCount(item ? item.quantity : 1);\r\n      } catch {\r\n        setAdded(false);\r\n        setCount(1);\r\n      }\r\n    })();\r\n  }, [productId, user]);\r\n\r\n  const handleCart = async (url, qtyChange, remove = false) => {\r\n    if (!user) {\r\n      toast.error(\"Please login to manage your cart.\", {\r\n        position: \"top-center\",\r\n        duration: 2000,\r\n      });\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(\r\n        url,\r\n        { productId, quantity: 1 },\r\n        { headers: { Authorization: `Bearer ${user.token}` } }\r\n      );\r\n\r\n      setCount((c) => Math.max(1, c + qtyChange));\r\n      setAdded(!remove || count > 1);\r\n      setAnim(remove ? \"fade-out\" : \"fade-in\");\r\n      await fetchCart();\r\n\r\n      // ✅ Single toast logic\r\n      if (!remove) {\r\n        toast.custom(\r\n  (t) => {\r\n    const totalItems =\r\n     cartItems?.reduce((sum, item) => sum + (item.quantity || 0), 0) + (remove ? 0 : 1);\r\n\r\n    return (\r\n      <div\r\n        className={`rounded-4 text-white shadow-lg px-4 py-3 flex flex-col items-center gap-2 ${\r\n          t.visible ? \"animate-slide-in\" : \"animate-slide-out\"\r\n        }`}\r\n        style={{\r\n          background: \"#00b761\",\r\n        }}\r\n      >\r\n        <button\r\n          onClick={() => {\r\n            toast.dismiss(toastId);\r\n            navigate(\"/cart\");\r\n          }}\r\n          className=\"btn p-2  fw-bold text-light px-3 py-1 text-sm\"\r\n        >\r\n           <span className=\"\">{totalItems}</span> item{totalItems > 1 ? \"s\" : \"\"} Added in cart →\r\n        </button>\r\n      </div>\r\n    );\r\n  },\r\n  {\r\n    id: toastId,\r\n    position: \"bottom-center\",\r\n    duration: 3000,\r\n  }\r\n);\r\n      } else {\r\n        toast(\"🗑️ Item removed from cart.\", {\r\n          icon: \"🛒\",\r\n          position: \"bottom-right\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err.response?.data || err.message);\r\n      toast.error(err.response?.data?.msg || \"Cart update failed\", {\r\n        position: \"bottom-right\",\r\n        duration: 2000,\r\n      });\r\n    } finally {\r\n      setTimeout(() => setLoading(false), 400);\r\n    }\r\n  };\r\n\r\n  // ✅ UI Section\r\n  return (\r\n    <div className=\"buttonpage-container\">\r\n      {added ? (\r\n        <div className={`button-group ${anim}`}>\r\n          <button\r\n            onClick={() =>\r\n              count === 1\r\n                ? handleCart(RemoveFromCart_Url(), -1, true)\r\n                : handleCart(RemoveFromCart_Url(), -1)\r\n            }\r\n            id=\"minus_button\"\r\n            className={`bi ${count === 1 ? \"bi-trash-fill\" : \"bi-dash-lg\"}`}\r\n            disabled={loading}\r\n          ></button>\r\n\r\n          <div className=\"count-wrapper\">\r\n            {loading && <div className=\"spin-circle\" />}\r\n            <span className=\"count-text\">{count}</span>\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => handleCart(AddToCart_Url(), +1)}\r\n            id=\"plus_button\"\r\n            className=\"bi bi-plus-lg\"\r\n            disabled={loading}\r\n          ></button>\r\n        </div>\r\n      ) : (\r\n        <button\r\n          id=\"addtocart_button\"\r\n          onClick={() => handleCart(AddToCart_Url(), 0)}\r\n          className={`add-button ${anim === \"fade-out\" ? \"fade-in\" : \"\"}`}\r\n          disabled={loading}\r\n        >\r\n          {loading ? <span style={{ fontSize: \"15px\" }}>Adding</span> : \"Add\"}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./Products_Shimmer.css\";\r\n\r\nfunction ShimmerPage() {\r\n  const shimmerCards = Array(30).fill(0);\r\n  const [loadingText, setLoadingText] = useState(\"\");\r\n  const [checkNetwork, setCheckNetwork] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const timer1 = setTimeout(() => {\r\n      setLoadingText(\"Loading..\");\r\n    }, 2500);\r\n\r\n    return () => clearTimeout(timer1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timer2 = setTimeout(() => {\r\n      setLoadingText(\"\");\r\n      setCheckNetwork(\"Check Network Connection ! \");\r\n    }, 4000);\r\n\r\n    return () => clearTimeout(timer2);\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"shop_wrappscroll\" className=\"\">\r\n      <div className=\"row g-2\">\r\n        {shimmerCards.map((_, index) => (\r\n          <div className=\"col-4 col-sm-3 col-md-2\" id=\"card_boxscroll\" key={index}>\r\n            <div id=\"shimmer_card\">\r\n              <div id=\"shimmer_img\">\r\n                <div id=\"loading_text_cards\" className=\"mt-4 py-1\">\r\n                  {loadingText}\r\n                  <span style={{ fontSize: \"9px\" }}>{checkNetwork}</span>\r\n                </div>\r\n              </div>\r\n              <div id=\"shimmer_title\"></div>\r\n              <div id=\"shimmer_rating\"></div>\r\n              <div id=\"shimmer_price\"></div>\r\n              <div id=\"shimmer_desc\">\r\n              <div id=\"shimmer_line\"></div>\r\n              <div id=\"shimmer_line\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShimmerPage;\r\n","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport ButtonPage from \"./ButtonPage\";\r\nimport { AllCategoriesApi_URL } from \"./Api_URL_Page\";\r\nimport './CategoryProductPage.css';\r\nimport { useLocation } from \"react-router-dom\";\r\nimport ShimmerPage from \"./Products_Shimmer\";\r\nimport PageLoader from \"./PageLoader\";\r\n\r\nexport default function CategoryProductPage({ category }) {\r\n  const { user } = useAuth();\r\n  const [data, setData] = useState([]);\r\n  const [subcats, setSubcats] = useState([]);\r\n  const [selected, setSelected] = useState(\"All\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [sticky, setSticky] = useState(false); // new state for sticky bar\r\n  const location = useLocation();\r\n  const initialSub = location.state?.subcategory || \"All\";\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const catRes = await axios.get(`${AllCategoriesApi_URL()}/${category}`);\r\n        const subRes = await axios.get(`${AllCategoriesApi_URL()}/${category}/subcategories`);\r\n        setData(catRes.data.subcategories || []);\r\n        setSubcats(subRes.data.subcategories || []);\r\n      } catch (error) {\r\n        console.error(\"Error fetching category data:\", error);\r\n        setData([]);\r\n        setSubcats([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [category]);\r\n\r\n  // Sticky scroll effect\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (window.scrollY > 100) setSticky(true);\r\n      else setSticky(false);\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  const filtered = selected === \"All\"\r\n    ? data\r\n    : data.filter((s) => s.name.toLowerCase() === selected.toLowerCase());\r\n\r\n  if (loading) return <div className=\"my_fruits_loading_11\"> <PageLoader/> </div>;\r\n\r\n  return (\r\n    <div className=\"my_fruits_container_11 container-fluid\">\r\n      {/* Subcategory filter bar */}\r\n      <div className={`my_fruits_subcat_list_11 ${sticky ? \"sticky-bar\" : \"\"}`}>\r\n        {loading ? (\r\n          <div className=\"my_fruits_subcat_shimmer_11\">\r\n            {[...Array(6)].map((_, i) => (\r\n              <div key={i} className=\"my_fruits_subcat_shimmer_item_11\" />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"my_fruits_subcat_scroll_11\">\r\n            {[\"All\", ...subcats.map((s) => s.name)].map((name) => (\r\n              <span\r\n                key={name}\r\n                onClick={() => setSelected(name)}\r\n                className={`my_fruits_subcat_item_11 ms-2 ${selected === name ? \"active\" : \"\"}`}\r\n              >\r\n                {name}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Product display */}\r\n      {filtered.map((sub) => (\r\n        <div key={sub.name} className=\"my_fruits_section_11\">\r\n          {selected === \"All\" && <h2 className=\"my_fruits_title_11\">{sub.name}</h2>}\r\n          <div className=\"my_fruits_grid_11\">\r\n            {sub.products?.map((p) => (\r\n              <ProductCard key={p._id} p={p} user={user} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      {!filtered.length && <div className=\"my_fruits_empty_11\"><ShimmerPage/></div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductCard({ p, user }) {\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  return (\r\n    <div className=\"my_fruits_card_11\">\r\n      <div className=\"my_fruits_img_wrapper_11\">\r\n        {!loaded && <div className=\"my_fruits_img_shimmer_11\" />}\r\n        <img\r\n          src={p.productImage}\r\n          alt={p.productName}\r\n          onLoad={() => setLoaded(true)}\r\n          onError={() => console.warn(\"Image failed to load:\", p.productImage)}\r\n          className={`my_fruits_img_11 ${loaded ? \"visible\" : \"hidden\"}`}\r\n        />\r\n      </div>\r\n\r\n      <h4 className=\"my_fruits_name_11\">{p.productName}</h4>\r\n      <div className=\"d-flex justify-content-around\">\r\n        <del className=\"my_fruits_price_11 text-danger\">₹{p.productPrice + 20}</del>\r\n        <p className=\"my_fruits_price_11\">₹{p.productPrice}</p>\r\n      </div>\r\n      <ButtonPage productName={p.productName} productId={p._id} user={user} />\r\n      <p className=\"my_fruits_disc_11 bi bi-tag-fill\">{p.productDisc}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ButtonPage","_ref","productId","user","productName","added","setAdded","useState","count","setCount","loading","setLoading","anim","setAnim","cartItems","fetchCart","useCart","navigate","useNavigate","toastId","useEffect","timer","setTimeout","clearTimeout","data","axios","get","Cart_Url","headers","Authorization","concat","token","item","items","find","i","quantity","_unused","handleCart","async","url","qtyChange","remove","arguments","length","undefined","toast","error","position","duration","post","c","Math","max","icon","custom","t","totalItems","reduce","sum","_jsx","className","visible","style","background","children","_jsxs","onClick","dismiss","id","err","_err$response","_err$response2","_err$response2$data","console","response","message","msg","RemoveFromCart_Url","disabled","AddToCart_Url","fontSize","shimmerCards","Array","fill","loadingText","setLoadingText","checkNetwork","setCheckNetwork","timer1","timer2","map","_","index","CategoryProductPage","_location$state","category","useAuth","setData","subcats","setSubcats","selected","setSelected","sticky","setSticky","useLocation","state","subcategory","catRes","AllCategoriesApi_URL","subRes","subcategories","handleScroll","window","scrollY","addEventListener","removeEventListener","filtered","filter","s","name","toLowerCase","PageLoader","sub","_sub$products","products","p","ProductCard","_id","ShimmerPage","_ref2","loaded","setLoaded","src","productImage","alt","onLoad","onError","warn","productPrice","productDisc"],"sourceRoot":""}